# Generated by CogSol 0.2.0 on 2026-02-12 13:26
from cogsol.db import migrations


class Migration(migrations.Migration):
    initial = True
    dependencies = []
    operations = [
        migrations.CreateLesson(name='LessonsDocsAgent::Error Handling', fields={'name': 'Error Handling', 'content': 'In tool run() methods, catch exceptions and return user-friendly error messages rather than letting them propagate. Log the full traceback for debugging but return a clean message to the agent. Use the no_information_message agent attribute to handle cases where the agent cannot find relevant information. Set max_consecutive_tool_calls to prevent infinite tool-call loops.', 'meta': {'topic': None, 'context_of_application': None}, 'agent': 'LessonsDocsAgent'}),
        migrations.CreateLesson(name='LessonsDocsAgent::Migration Best Practices', fields={'name': 'Migration Best Practices', 'content': 'Always run makemigrations after changing agent definitions, tools, FAQs, fixed responses, or lessons. Review generated migration files before applying them with migrate. Never manually edit .state.json or .applied.json — these are managed by the framework. If you need to start fresh, delete the migration files and state files, then regenerate with makemigrations.', 'meta': {'topic': None, 'context_of_application': None}, 'agent': 'LessonsDocsAgent'}),
        migrations.CreateLesson(name='LessonsDocsAgent::Naming Conventions', fields={'name': 'Naming Conventions', 'content': 'Use PascalCase for class names: MyAgent, SearchTool, InstallationFAQ. Use snake_case for project names and file names: my_project, agent.py. Agent directory names should be lowercase without underscores: myagent/, not my_agent/. Tool names in Meta.name should be concise and descriptive, as the LLM uses them to decide when to invoke a tool.', 'meta': {'topic': None, 'context_of_application': None}, 'agent': 'LessonsDocsAgent'}),
        migrations.CreateLesson(name='LessonsDocsAgent::Project Structure', fields={'name': 'Project Structure', 'content': 'A CogSol project has two main directories: agents/ for the Cognitive API (agents, tools, FAQs, fixed responses, lessons) and data/ for the Content API (topics, ingestion configs, retrievals). Each agent lives in its own subdirectory under agents/ with an __init__.py, agent.py, and a prompts/ folder. Keep this separation clean — agent logic in agents/, content configuration in data/.', 'meta': {'topic': None, 'context_of_application': None}, 'agent': 'LessonsDocsAgent'}),
        migrations.CreateLesson(name='LessonsDocsAgent::Prompt Design', fields={'name': 'Prompt Design', 'content': "Write system prompts in Markdown and store them in the prompts/ directory. Start with a clear role definition, then list guidelines as numbered rules. Keep prompts focused — the agent should know its boundaries. Use Prompts.load('filename.md') to load them. Avoid embedding long content directly in the prompt; use FAQs, fixed responses, or lessons for structured knowledge instead.", 'meta': {'topic': None, 'context_of_application': None}, 'agent': 'LessonsDocsAgent'}),
        migrations.CreateLesson(name='LessonsDocsAgent::Testing Agents', fields={'name': 'Testing Agents', 'content': "Use 'python manage.py chat --agent AgentName' to interactively test an agent after deploying it. Test each tool, FAQ, fixed response, and lesson individually. Verify that the agent stays within the boundaries defined by its system prompt. Check edge cases: what happens when the user asks something outside the agent's scope? The no_information_message should handle it.", 'meta': {'topic': None, 'context_of_application': None}, 'agent': 'LessonsDocsAgent'}),
        migrations.CreateLesson(name='LessonsDocsAgent::Tool Design', fields={'name': 'Tool Design', 'content': 'Each tool should do one thing well. Define clear parameter schemas using tool_params() so the LLM knows what inputs to provide. Keep tool descriptions concise but precise — the LLM reads them to decide when to call the tool. Always include logging in the run() method for debugging. Return structured results that the agent can easily incorporate into its response.', 'meta': {'topic': None, 'context_of_application': None}, 'agent': 'LessonsDocsAgent'}),
        migrations.CreateAgent(name='LessonsDocsAgent', fields={'system_prompt': "# Lessons Docs Assistant\n\nYou are a documentation assistant for the CogSol Framework, a lightweight Python framework for building, managing, and deploying AI agents.\n\n## Your Role\n\n- Share best practices and design patterns for building with the CogSol Framework.\n- Draw on your lessons to guide users toward clean, maintainable project structures.\n- When a question falls outside your lessons, acknowledge it and suggest the official documentation.\n\n## Guidelines\n\n1. Prioritize lesson content: when a lesson is relevant to the user's question, incorporate its guidance into your response.\n2. Be practical and actionable. Give advice users can apply immediately.\n3. If you lack information on a topic, say so clearly and refer users to https://docs.cogsol.ai.\n4. Use short code snippets only when they illustrate a best practice.", 'generation_config': 'QA', 'temperature': 0.3, 'max_responses': 10, 'max_msg_length': 2048, 'max_consecutive_tool_calls': 3, 'initial_message': 'Hello! I am the Lessons Docs Assistant. Ask me about best practices for building projects, designing agents, writing prompts, or working with tools in the CogSol Framework.', 'forced_termination_message': 'Thank you for using the Lessons Docs Assistant. Visit https://docs.cogsol.ai for the full reference.', 'no_information_message': "I don't have specific information about that topic. Please check the official documentation at https://docs.cogsol.ai.", 'lessons': ['Error Handling', 'Migration Best Practices', 'Naming Conventions', 'Project Structure', 'Prompt Design', 'Testing Agents', 'Tool Design'], 'name': 'LessonsDocs'}, meta={'name': 'LessonsDocsAgent', 'chat_name': 'Lessons Docs Assistant'}),
    ]
